
-- node box {x=0, y=0, z=0}
node_box = {
  type = "fixed",
  fixed = {
    {-0.125,-0.5,-0.375,0.125,-0.1875,-0.3125},
    {-0.25,-0.5,-0.3125,0.25,-0.4375,0.3125},
    {-0.25,-0.4375,-0.3125,-0.125,-0.1875,-0.25},
    {0.125,-0.4375,-0.3125,0.25,-0.1875,-0.25},
    {-0.3125,-0.5,-0.25,-0.25,-0.1875,-0.125},
    {0.25,-0.5,-0.25,0.3125,-0.1875,-0.125},
    {-0.375,-0.5,-0.125,-0.25,-0.4375,0.125},
    {0.25,-0.5,-0.125,0.375,-0.4375,0.125},
    {-0.375,-0.4375,-0.125,-0.3125,-0.1875,0.125},
    {0.3125,-0.4375,-0.125,0.375,-0.1875,0.125},
    {-0.3125,-0.5,0.125,-0.25,-0.1875,0.25},
    {0.25,-0.5,0.125,0.3125,-0.1875,0.25},
    {-0.25,-0.4375,0.25,-0.125,-0.1875,0.3125},
    {0.125,-0.4375,0.25,0.25,-0.1875,0.3125},
    {-0.125,-0.5,0.3125,0.125,-0.1875,0.375},
  },
}

-- node box {x=0, y=0, z=0}
node_box_fill = {
  type = "fixed",
  fixed = {
    {-0.125,-0.5,-0.375,0.125,-0.1875,-0.3125},
    {-0.25,-0.5,-0.3125,0.25,-0.4375,0.3125},
    {-0.25,-0.4375,-0.3125,-0.125,-0.1875,-0.25},
    {0.125,-0.4375,-0.3125,0.25,-0.1875,-0.25},
    {-0.3125,-0.5,-0.25,-0.25,-0.1875,-0.125},
    {0.25,-0.5,-0.25,0.3125,-0.1875,-0.125},
    {-0.375,-0.5,-0.125,-0.25,-0.4375,0.125},
    {0.25,-0.5,-0.125,0.375,-0.4375,0.125},
    {-0.375,-0.4375,-0.125,-0.3125,-0.1875,0.125},
    {0.3125,-0.4375,-0.125,0.375,-0.1875,0.125},
    {-0.3125,-0.5,0.125,-0.25,-0.1875,0.25},
    {0.25,-0.5,0.125,0.3125,-0.1875,0.25},
    {-0.25,-0.4375,0.25,-0.125,-0.1875,0.3125},
    {0.125,-0.4375,0.25,0.25,-0.1875,0.3125},
    {-0.125,-0.5,0.3125,0.125,-0.1875,0.375},
    -- fill
    {-0.125,-0.4375,-0.3125,0.125,-0.25,0.3125},
    {-0.25,-0.4375,-0.25,-0.125,-0.25,0.25},
    {0.125,-0.4375,-0.25,0.25,-0.25,0.25},
    {-0.3125,-0.4375,-0.125,-0.25,-0.25,0.125},
    {0.25,-0.4375,-0.125,0.3125,-0.25,0.125},
  },
}

-- node box {x=0, y=0, z=0}
node_box_cake = {
  type = "fixed",
  fixed = {
    {-0.125,-0.5,-0.375,0.125,-0.1875,-0.3125},
    {-0.25,-0.5,-0.3125,0.25,-0.4375,0.3125},
    {-0.25,-0.4375,-0.3125,-0.125,-0.1875,-0.25},
    {0.125,-0.4375,-0.3125,0.25,-0.1875,-0.25},
    {-0.3125,-0.5,-0.25,-0.25,-0.1875,-0.125},
    {0.25,-0.5,-0.25,0.3125,-0.1875,-0.125},
    {-0.375,-0.5,-0.125,-0.25,-0.4375,0.125},
    {0.25,-0.5,-0.125,0.375,-0.4375,0.125},
    {-0.375,-0.4375,-0.125,-0.3125,-0.1875,0.125},
    {0.3125,-0.4375,-0.125,0.375,-0.1875,0.125},
    {-0.3125,-0.5,0.125,-0.25,-0.1875,0.25},
    {0.25,-0.5,0.125,0.3125,-0.1875,0.25},
    {-0.25,-0.4375,0.25,-0.125,-0.1875,0.3125},
    {0.125,-0.4375,0.25,0.25,-0.1875,0.3125},
    {-0.125,-0.5,0.3125,0.125,-0.1875,0.375},
    -- cake
    {-0.125,-0.4375,-0.3125,0.125,-0.25,0.3125},
    {-0.25,-0.4375,-0.25,-0.125,-0.25,0.25},
    {0.125,-0.4375,-0.25,0.25,-0.25,0.25},
    {-0.0625,-0.25,-0.25,0.0625,-0.1875,0.25},
    {-0.1875,-0.25,-0.1875,-0.0625,-0.1875,0.1875},
    {0.0625,-0.25,-0.1875,0.1875,-0.1875,0.1875},
    {-0.0625,-0.1875,-0.1875,0.0625,-0.125,0.1875},
    {-0.3125,-0.4375,-0.125,-0.25,-0.25,0.125},
    {0.25,-0.4375,-0.125,0.3125,-0.25,0.125},
    {-0.125,-0.1875,-0.125,-0.0625,-0.125,0.125},
    {0.0625,-0.1875,-0.125,0.125,-0.125,0.125},
    {-0.25,-0.25,-0.0625,-0.1875,-0.1875,0.0625},
    {0.1875,-0.25,-0.0625,0.25,-0.1875,0.0625},
    {-0.1875,-0.1875,-0.0625,-0.125,-0.125,0.0625},
    {0.125,-0.1875,-0.0625,0.1875,-0.125,0.0625},
    {-0.0625,-0.125,-0.0625,0.0625,-0.0625,0.0625},
  },
}

-- node box {x=0, y=0, z=0}
node_box_bread = {
  type = "fixed",
  fixed = {
    {-0.125,-0.5,-0.375,0.125,-0.1875,-0.3125},
    {-0.25,-0.5,-0.3125,0.25,-0.4375,0.3125},
    {-0.25,-0.4375,-0.3125,-0.125,-0.1875,-0.25},
    {0.125,-0.4375,-0.3125,0.25,-0.1875,-0.25},
    {-0.3125,-0.5,-0.25,-0.25,-0.1875,-0.125},
    {0.25,-0.5,-0.25,0.3125,-0.1875,-0.125},
    {-0.375,-0.5,-0.125,-0.25,-0.4375,0.125},
    {0.25,-0.5,-0.125,0.375,-0.4375,0.125},
    {-0.375,-0.4375,-0.125,-0.3125,-0.1875,0.125},
    {0.3125,-0.4375,-0.125,0.375,-0.1875,0.125},
    {-0.3125,-0.5,0.125,-0.25,-0.1875,0.25},
    {0.25,-0.5,0.125,0.3125,-0.1875,0.25},
    {-0.25,-0.4375,0.25,-0.125,-0.1875,0.3125},
    {0.125,-0.4375,0.25,0.25,-0.1875,0.3125},
    {-0.125,-0.5,0.3125,0.125,-0.1875,0.375},
    -- bread
    {-0.125,-0.4375,-0.3125,0.125,-0.25,0.3125},
    {-0.25,-0.4375,-0.25,-0.125,-0.25,0.25},
    {0.125,-0.4375,-0.25,0.25,-0.25,0.25},
    {-0.0625,-0.25,-0.25,0.0625,-0.1875,0.25},
    {-0.1875,-0.25,-0.1875,-0.0625,-0.1875,0.1875},
    {0.0625,-0.25,-0.1875,0.1875,-0.1875,0.1875},
    {-0.0625,-0.1875,-0.1875,0.0625,-0.125,0.1875},
    {-0.3125,-0.4375,-0.125,-0.25,-0.25,0.125},
    {0.25,-0.4375,-0.125,0.3125,-0.25,0.125},
    {-0.125,-0.1875,-0.125,-0.0625,-0.125,0.125},
    {0.0625,-0.1875,-0.125,0.125,-0.125,0.125},
    {-0.25,-0.25,-0.0625,-0.1875,-0.1875,0.0625},
    {0.1875,-0.25,-0.0625,0.25,-0.1875,0.0625},
    {-0.1875,-0.1875,-0.0625,-0.125,-0.125,0.0625},
    {0.125,-0.1875,-0.0625,0.1875,-0.125,0.0625},
  },
}

local S = hardcook.translator;

minetest.register_node( "hardcook:cake_pan", {
  description = S("Empty cake pan"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan.obj",
  selection_box = node_box,
  collision_box = node_box,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
})

if (hardcook.dirty_dishes) then
  minetest.register_node( "hardcook:cake_pan_dirty", {
    description = S("Dirty cake pan"),
    drawtype = "mesh",
    paramtype  = "light",
    paramtype2 = "facedir",
    mesh = "hardcook_cake_pan.obj",
    selection_box = node_box,
    collision_box = node_box,
    tiles = {"hardcook_cake_pan_dirty_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png"},
    use_texture_alpha = "clip",
    --sunlight_propagates = true,
    groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  })
else
  minetest.register_alias("hardcook:cake_pan_dirty", "hardcook:cake_pan");
end
minetest.register_alias("hardcook:cake_pan_dirty_node", "hardcook:cake_pan");

-- bread
minetest.register_node( "hardcook:cake_pan_with_unbaked_bread", {
  description = S("Cake pan with unbaked bread"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_bread.obj",
  selection_box = node_box_bread,
  collision_box = node_box_bread,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_bread.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

minetest.register_node( "hardcook:cake_pan_with_baked_bread", {
  description = S("Cake pan with baked bread"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_bread.obj",
  selection_box = node_box_bread,
  collision_box = node_box_bread,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_baked_bread.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

-- multigrain bread
minetest.register_node( "hardcook:cake_pan_with_unbaked_multigrain_bread", {
  description = S("Cake pan with unbaked multigrain bread"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_bread.obj",
  selection_box = node_box_bread,
  collision_box = node_box_bread,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_multigrain_bread.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

minetest.register_node( "hardcook:cake_pan_with_baked_multigrain_bread", {
  description = S("Cake pan with baked multigrain bread"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_bread.obj",
  selection_box = node_box_bread,
  collision_box = node_box_bread,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_baked_multigrain_bread.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

-- pie
minetest.register_node( "hardcook:cake_pan_with_unbaked_pie", {
  description = S("Cake pan with unbaked pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})
minetest.register_node( "hardcook:cake_pan_with_unbaked_triple_pie", {
  description = S("Cake pan with unbaked rhubarb pie base"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

-- apple pie
minetest.register_node( "hardcook:cake_pan_with_unbaked_apple_pie", {
  description = S("Cake pan with unbaked apple pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_apple_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

minetest.register_node( "hardcook:cake_pan_with_baked_apple_pie", {
  description = S("Cake pan with baked apple pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_baked_apple_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

-- blueberry pie
minetest.register_node( "hardcook:cake_pan_with_unbaked_blueberry_pie", {
  description = S("Cake pan with unbaked blueberry pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_blueberry_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

minetest.register_node( "hardcook:cake_pan_with_baked_blueberry_pie", {
  description = S("Cake pan with baked blueberry pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_baked_blueberry_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

-- rhubarb pie
minetest.register_node( "hardcook:cake_pan_with_unbaked_rhubarb_pie", {
  description = S("Cake pan with unbaked rhubarb pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_unbaked_rhubarb_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

minetest.register_node( "hardcook:cake_pan_with_baked_rhubarb_pie", {
  description = S("Cake pan with baked rhubarb pie"),
  drawtype = "mesh",
  paramtype  = "light",
  paramtype2 = "facedir",
  mesh = "hardcook_cake_pan_fill_cake.obj",
  selection_box = node_box_cake,
  collision_box = node_box_cake,
  tiles = {"hardcook_cake_pan_top.png", "hardcook_cake_pan_bottom.png", "hardcook_cake_pan_side.png", "hardcook_cake_pan_fill_baked_rhubarb_pie.png"},
  use_texture_alpha = "clip",
  --sunlight_propagates = true,
  groups = {oddly_breakable_by_hand = 1, dig_immediate = 2},
  stack_max = 1,
})

